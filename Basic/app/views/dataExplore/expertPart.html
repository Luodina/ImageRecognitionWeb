<div style="padding:0 30px;">
  <div class="row" id="fixTitle">
    <div class="expertPage">
      <div class="contentPart">
        <div class="header-button-group">
          <div class="header-pic"><img class="titleRunCell" data-toggle="dropdown" aria-haspopup="true "
                                       aria-expanded="true "></div>
        </div>
        <div class="header-button-group">
          <div class="header-pic"><img ng-click="runAll()" class="titleRunAll" data-toggle="dropdown"
                                       aria-haspopup="true " aria-expanded="true "></div>
        </div>
        <div class="header-button-group data_bg header_area_select head_main_set ">
          <div class="dropdown ">
            <button class="btn btn-default dropdown-toggle " type="button " data-toggle="dropdown "
                    aria-haspopup="true "
                    aria-expanded="true ">
              {{grids.changestatus}}
              <span class="caret "></span>
            </button>
            <ul class="dropdown-menu " aria-labelledby="dropdownMenu1 ">
              <li ng-repeat="name in grids.status " ng-click="changeMode(name) ">
                <a href="javascript:void(0); ">
                  <span ng-class="{colored:name===grids.changestatus} ">{{name}}</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="header-button-group ">
          <div class="dropdown " style="float: left; ">
            <button class="btn btn-default dropdown-toggle " type="button " data-toggle="dropdown "
                    aria-haspopup="true "
                    aria-expanded="true ">
              {{kernels.changestatus}}
              <span class="caret "></span>
            </button>
            <ul class="dropdown-menu " aria-labelledby="dropdownMenu1 ">
              <li ng-repeat="name in kernels.status " ng-click="changeKernel(name) ">
                <a href="javascript:void(0); ">
                  <span ng-class="{colored:name===kernels.changestatus} ">{{name}}</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="header-button-group ">
          <div class="dropdown " style="float: left; ">
            <button class="btn btn-default dropdown-toggle " type="button " id="dropdownMenu1 " data-toggle="dropdown "
                    aria-haspopup="true " aria-expanded="true ">
              save
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" style="border: solid 1px #f0f0f0;">
    <div class="expertPageContent">
      <div class="title">
        notebook
      </div>
      <div class="ipynb-edit cell " ng-repeat="cell in model.sourceCells track by $index ">
        <div class="col-lg-1 ipynb-left" style="display: table-cell;">
          <!--<div ng-show="cell.cell_type==='code' && cell.outputs!==null ">-->
          <div ng-show="cell.isShow">
            <button class="runBtn" ng-click="run($index)"></button>
          </div>
          <span ng-show="!cell.isShow " style="font-size: large " class="pull-right ">In [{{cell.execution_count}}]:</span>
          <!-- <span style="font-size: large " class="pull-right " ng-show="cell.outputs[0].output_type==='execute_result' ">In [{{cell.execution_count}}]:</span> -->
        </div>
        <div class="col-lg-11 ipynb-right" ng-click="openToolTip($index);$event.stopPropagation(); ">
          <textarea id="code " class="changeStyle" ui-codemirror="cmOption " ng-model="cell.code " ng-focus="changeStyle()">
            {{cell.code}}
          </textarea>
          <div ng-repeat="output in cell.outputs track by $index " ng-model="cell.outputs ">
            <div ng-show="output.output_type==='display_data' ">
              <img src="{{ 'data:image/png;base64,'+output.data[ 'image/png']}} ">
            </div>
            <div ng-show="output.output_type==='stream' ">
              <pre>{{output.text}}</pre>
            </div>
            <div ng-show="output.output_type==='execute_result' && output.data[ 'text/html']!==undefined ">
              <div ng-bind-html="output.data[ 'text/html'] "></div>
            </div>
            <div ng-show="output.output_type==='execute_result' && !(output.data[ 'text/html']!==undefined) ">
              {{output.data['text/plain']}}
            </div>
            <div ng-show="output.output_type==='error' ">
              {{output.traceback}}
            </div>
          </div>
          <div class="tool-tip " ng-show="cell.isShow ">
            <button class="upAddBtn" ng-click="upAdd($index,item);$event.stopPropagation();"></button>
            <button class="downAddBtn" ng-click="downAdd($index,item);$event.stopPropagation();"></button>
            <button class="deleteRedBtn" ng-click="codeMirrorDelete($index,item);$event.stopPropagation();"></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<style>
  /*.CodeMirror {*/
  /*font-family: monospace;*/
  /*height: 50px;*/
  /*color: black;*/
  /*border: solid 1px #f3f3f3;*/
  /*}*/
  .CodeMirror {
    /* Set height, width, borders, and global font properties here */
    font-family: monospace;
    height: auto;
    border: 1px solid #ccc; /*add by jackqqxu*/
    font-family: Monaco, Menlo, Consolas, 'COURIER NEW', monospace; /*add by jackqqxu*/
    font-size: 12px;
  }

  .CodeMirror-scroll {
    /* Set scrolling behaviour here */
    overflow: auto;
    /*max-height: 200px;*/
  }
</style>
<script type="text/javascript">
  window.onscroll = function () {
    let topScroll = document.body.scrollTop;//滚动的距离,距离顶部的距离
    let bignav = document.getElementById('fixTitle');//获取到导航栏id
    if (topScroll > 50) {  //当滚动距离大于50px时执行下面的东西
      bignav.style.position = 'fixed';
      bignav.style.top = '0';
      bignav.style.marginTop = '0';
      bignav.style.zIndex = '10';
      bignav.style.width = '1403px';
      bignav.style.background = '#fff';
    } else {//当滚动距离小于50的时候执行下面的内容，也就是让导航栏恢复原状
      bignav.style.position = 'static';
    }
//    let ipynbLeft = document.getElementById('ipynbLeft');//获取到导航栏id
//    let ipynbRight = document.getElementById('ipynbRight');//获取到导航栏id
//    ipynbRight.style.height = 'auto';
//    console.log('ipynbRight.style.height',ipynbRight.style.height)
//    ipynbLeft.style.height = ipynbRight.style.height;

  }
</script>
